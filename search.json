[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Harmonizing the gsm and pharmaverse ecosystems",
    "section": "",
    "text": "The pharmaverse has quickly established itself as a community standard for open-source clinical reporting, with packages like sdtm.oak for SDTM transformation, admiral for ADaM derivations and gtsummary for TFL generation. Emerging in the background is the new analysis results dataset standard, ARS, which cards can be used to support and shiny/web based tools to review visualizations as alternative to static reports. In parallel, the gsm framework, in particular the gsm.core package, has matured as a YAML-driven workflow engine providing reproducibility, traceability, and audit-ready pipelines for data science in clinical development. These ecosystems have typically evolved in parallel, but their complementary strengths create an opportunity for integration."
  },
  {
    "objectID": "index.html#background",
    "href": "index.html#background",
    "title": "Harmonizing the gsm and pharmaverse ecosystems",
    "section": "",
    "text": "The pharmaverse has quickly established itself as a community standard for open-source clinical reporting, with packages like sdtm.oak for SDTM transformation, admiral for ADaM derivations and gtsummary for TFL generation. Emerging in the background is the new analysis results dataset standard, ARS, which cards can be used to support and shiny/web based tools to review visualizations as alternative to static reports. In parallel, the gsm framework, in particular the gsm.core package, has matured as a YAML-driven workflow engine providing reproducibility, traceability, and audit-ready pipelines for data science in clinical development. These ecosystems have typically evolved in parallel, but their complementary strengths create an opportunity for integration."
  },
  {
    "objectID": "index.html#objective",
    "href": "index.html#objective",
    "title": "Harmonizing the gsm and pharmaverse ecosystems",
    "section": "Objective:",
    "text": "Objective:\nWe present a hybrid “gsm–pharmaverse” pipeline demonstrating how gsm.core can orchestrate pharmaverse packages end-to-end, transforming raw eCRF data into SDTM, ADaM, TFL outputs and even the emerging ARS. This case study highlights how harmonizing these ecosystems can accelerate adoption of open-source R workflows in regulated clinical trial reporting."
  },
  {
    "objectID": "index.html#methods",
    "href": "index.html#methods",
    "title": "Harmonizing the gsm and pharmaverse ecosystems",
    "section": "Methods",
    "text": "Methods\n\nRaw → SDTM (gsm + sdtm.oak): Raw data were transformed into SDTM using gsm workflows, following a pre-existing sdtm.oak example for the VS domain as a reference implementation. An example can be found here.\nSDTM → ADaM (gsm + admiral): SDTM domains were re-integrated into gsm workflows and passed through admiral derivations. Functions such as derive_vars_merged() and derive_param_map() were used to generate ADVS parameters and analysis values (e.g., MAP). Derivation logic was defined declaratively via YAML !expr tags, ensuring transformations were reproducible, transparent, and auditable.\nADaM → TFLs (gsm + gtsummary): From the derived ADaM datasets, gsm workflows directly invoked gtsummary to generate table outputs. This enabled the production of publication-ready TFLs within a fully traceable, end-to-end pipeline.\nADaM → ARS (gsm + cards; exploratory): In parallel, the same ADaM datasets were extended using cards to explore the generation of ARS-aligned datasets and outputs. As ARS standards continue to evolve, this demonstrates how emerging libraries can be incorporated into the gsm framework with minimal friction.\nSDTM/ADaM → Shiny (gsm + safetyCharts; exploratory): Given the growing adoption of web-based visualization across organizations, gsm workflows were also evaluated as a mechanism to automatically refresh Shiny applications with newly derived data, supporting near-real-time exploratory and safety review."
  },
  {
    "objectID": "index.html#results",
    "href": "index.html#results",
    "title": "Harmonizing the gsm and pharmaverse ecosystems",
    "section": "Results:",
    "text": "Results:\nThe pipeline successfully demonstrated that gsm.core can orchestrate a start to finish pharmaverse toolchain: sdtm.oak standardized raw data into SDTM, admiral derived ADaM datasets, gtsummary produced clinical tables, and cards structured ARS datasets.\nEach package retained its modular design, while gsm.core ensured workflow control, auditability, and reproducibility across the pipeline."
  },
  {
    "objectID": "index.html#conclusions",
    "href": "index.html#conclusions",
    "title": "Harmonizing the gsm and pharmaverse ecosystems",
    "section": "Conclusions:",
    "text": "Conclusions:\nThis hybrid gsm–pharmaverse case study illustrates the feasibility of an open-source end-to-end clinical reporting pipeline. gsm.core serves as the workflow backbone, while pharmaverse packages provide domain-specific transformations for SDTM, ADaM, TFLs, and ARS. Together, they deliver a modular and transparent solution for clinical trial reporting, that is ready for automation. We propose this as a model for future collaboration between workflow frameworks and pharmaverse packages, moving the industry toward interoperable open-source standards."
  },
  {
    "objectID": "gsm_SDTM_example.html",
    "href": "gsm_SDTM_example.html",
    "title": "Incorporating sdtm.oak",
    "section": "",
    "text": "lData &lt;- list(\n  dm_raw = read.csv(system.file(\"raw_data/dm.csv\", package = \"sdtm.oak\")),\n  vs_raw =  read.csv(system.file(\"raw_data/vitals_raw_data.csv\", package = \"sdtm.oak\")),\n  study_ct = read.csv(system.file(\"raw_data/sdtm_ct.csv\", package = \"sdtm.oak\"))\n)\n\n\n\nShow Raw DM preview (first 6 rows)\n\n\n\n\n\n\n\n\n\nSTUDYID\nDOMAIN\nUSUBJID\nSUBJID\nRFSTDTC\nRFENDTC\nRFXSTDTC\nRFXENDTC\nRFICDTC\nRFPENDTC\nDTHDTC\nDTHFL\nSITEID\nINVID\nINVNAM\nBRTHDTC\nAGE\nAGEU\nSEX\nRACE\nETHNIC\nARMCD\nARM\nACTARMCD\nACTARM\nCOUNTRY\nDMDTC\nDMDY\nRACE1\nRACE2\nRACE3\n\n\n\n\ntest_study\nDM\ntest_study-375\ntest_study-375\n1999-04-14T08:36\n2013-01-21\n2023-04-14T08:36\n2021-01-11T07:50\n2007-01-15\n2020-04-02\n2020-04-02\nY\n111111\n90009\nDr doctor9\nNA\nNA\nNA\nF\nMULTIPLE\nNA\nNA\nNA\nNA\nNA\nUS\nNA\nNA\nNATIVE HAWAIIAN OR OTHER PACIFIC ISLANDER\nWHITE\nNA\n\n\ntest_study\nDM\ntest_study-376\ntest_study-376\n2001-03-21\n2007-05-21\n2020-03-21\n2017-09-14T18:49\nNA\n2011-12-18\n2011-12-18\nNA\n111111\n90009\nDr doctor9\n1981-02-26T18:07\n42\nYEARS\nM\nMULTIPLE\nNOT HISPANIC OR LATINO\nNA\nNA\nNA\nNA\nUS\nNA\nNA\nBLACK OR AFRICAN AMERICAN\nAMERICAN INDIAN OR ALASKA NATIVE\nUNKNOWN\n\n\ntest_study\nDM\ntest_study-377\ntest_study-377\n1999-03-14\n2021-05-05\n2020-03-14\n2013-08-23T12:37\n2015-10-07\n2021-05-05\n2019-06-29\nNA\n111111\n90009\nDr doctor9\n1968-03-19T04:36\n56\nYEARS\nNA\nMULTIPLE\nNOT REPORTED\nNA\nNA\nNA\nNA\nUS\nNA\nNA\nASIAN\nAMERICAN INDIAN OR ALASKA NATIVE\nUNKNOWN\n\n\ntest_study\nDM\ntest_study-378\ntest_study-378\n2003-02-06T06:33\n2021-04-24T09:06\n2021-02-06T06:33\n2021-04-24T09:06\n2018-10-20\n2017-04-11\n2017-04-11\nNA\n111111\n90009\nDr doctor9\n1979-09-24\n45\nYEARS\nM\nBLACK OR AFRICAN AMERICAN\nHISPANIC OR LATINO\nNA\nNA\nNA\nNA\nUS\nNA\nNA\nNA\nNA\nNA\n\n\ntest_study\nDM\ntest_study-379\ntest_study-379\n2003-02-06T06:33\n2021-04-24T09:06\n2022-02-06T06:33\n2021-04-24T09:06\n2018-10-20\n2017-04-11\n2017-04-11\nY\n111111\n90009\nDr doctor9\n1963-09-24\n61\nYEARS\nM\nBLACK OR AFRICAN AMERICAN\nHISPANIC OR LATINO\nNA\nNA\nNA\nNA\nUS\nNA\nNA\nNA\nNA\nNA\n\n\n\n\n\n\n\n\n\n\nShow Raw VS preview (first 6 rows)\n\n\n\n\n\n\n\n\n\nSTUDY\nPATNUM\nSUBJSTAT\nSITENM\nINSTANCE\nFORM\nFORML\nDATAPGID\nRECORDID\nRECPOS\nASMNTDN\nTMPTC\nVTLD\nVTLTM\nSUBPOS\nSYS_BP\nDIA_BP\nPULSE\nRESPRT\nTEMP\nTEMPLOC\nOXY_SAT\nLAT\nLOC\nVSO2SRC\nNEWS107\n\n\n\n\nTest Study\n375\nRandomized\nTest Study\nVISIT1\nVTLS1\nVital Signs\n1752329\n5734754\n0\n0\nPre-dose\n16-May-15\n7:25\nPRONE\n158\n92\n63\n17\n40.48\nSKIN\n98\nRIGHT\nFINGER\nMASK OXYGEN THERAPY\nUNRESPONSIVE\n\n\nTest Study\n375\nRandomized\nTest Study\nVISIT1\nVTLS1\nVital Signs\n8153061\n3712412\n1\n0\nPost-dose\n16-May-15\n10:25\nSEMI-RECUMBENT\n94\n78\n76\n20\n36.75\nTYMPANIC MEMBRANE\n99\nLEFT\nFINGER\nROOM AIR\nNEW CONFUSION\n\n\nTest Study\n375\nRandomized\nTest Study\nScreening\nVTLS1\nVital Signs\n3463516\n1229594\n0\n0\n\n6-May-18\n2:01\nPRONE\n117\n62\n66\n15\n29.45\nORAL CAVITY\n96\nLEFT\nFINGER\nROOM AIR\nVERBAL RESPONSIVE\n\n\nTest Study\n376\nRandomized\nTest Study\nScreening\nVTLS1\nVital Signs\n8423253\n9767053\n0\n1\n\n\n\n\nNA\nNA\nNA\nNA\nNA\n\nNA\n\n\n\n\n\n\nTest Study\n376\nRandomized\nTest Study\nVISIT1\nVTLS1\nVital Signs\n1211365\n1567778\n0\n0\nPre-dose\n23-Oct-08\n1:19\nPRONE\n85\n68\n73\n21\n38.25\nAXILLA\n93\nRIGHT\nFINGER\nROOM AIR\nALERT\n\n\nTest Study\n376\nRandomized\nTest Study\nVISIT1\nVTLS1\nVital Signs\n5880552\n7060998\n0\n0\nPost-dose\n23-Oct-08\n3:19\nPRONE\n126\n81\n56\n18\n38.08\nTYMPANIC MEMBRANE\n93\nLEFT\nFINGER\nMASK OXYGEN THERAPY\nPAIN RESPONSIVE\n\n\n\n\n\n\n\n\n\n\nShow Study CT preview (first 6 rows)\n\n\n\n\n\n\n\n\n\ncodelist_code\nterm_code\nterm_value\ncollected_value\nterm_preferred_term\nterm_synonyms\n\n\n\n\nC66726\nC25158\nCAPSULE\nCapsule\nCapsule Dosage Form\ncap\n\n\nC66726\nC25394\nPILL\nPill\nPill Dosage Form\n\n\n\nC66726\nC29167\nLOTION\nLotion\nLotion Dosage Form\n\n\n\nC66726\nC42887\nAEROSOL\nAerosol\nAerosol Dosage Form\naer\n\n\nC66726\nC42944\nINHALANT\nInhalant\nInhalant Dosage Form\n\n\n\nC66726\nC42946\nINJECTION\nInjection\nInjectable Dosage Form\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n```yaml\nmeta:\n  ID: SDTM.DM\n  Type: Mapped\n  Description: Transform Raw DM to SDTM DM\n  Priority: 1\nspec:\n  dm_raw:\n    STUDYID:\n      type: character\n    USUBJID:\n      type: character\nsteps:\n  - output: dm\n    name: gsm.core::RunQuery\n    params:\n      df: dm_raw\n      strQuery: \"SELECT STUDYID, USUBJID, 'DRUG X' as TRT01A FROM df\"\n```\n\n\n\n\n\n\n```yaml\nmeta:\n  ID: SDTM.VS\n  Type: Mapped\n  Description: Transform Raw VS to SDTM VS following sdtm.oak article\n  Priority: 1\nspec:\n  # Read in data\n  vs_raw:\n    _all:\n      required: true\n  study_ct:\n    _all:\n      required: true\nsteps:\n  # Create oak_id_vars\n  - output: vs_raw\n    name: sdtm.oak::generate_oak_id_vars\n    params:\n      raw_dat: vs_raw\n      pat_var: \"PATNUM\"\n      raw_src: \"vitals\"\n  # Map topic variable SYSBP and its qualifiers.\n  - output: vs_sysbp\n    name: sdtm.oak::hardcode_ct\n    params:\n      raw_dat: vs_raw\n      raw_var: \"SYS_BP\"\n      tgt_var: \"VSTESTCD\"\n      tgt_val: \"SYSBP\"\n      ct_spec: study_ct\n      ct_clst: \"C66741\"\n  - output: vs_sysbp\n    name: gsm.core::RunQuery\n    params:\n      df: vs_sysbp\n      strQuery: \"SELECT * FROM df WHERE VSTESTCD IS NOT NULL\"\n  # Map topic variable SYSBP and its qualifiers.\n  - output: vs_sysbp\n    name: sdtm.oak::hardcode_ct\n    params:\n      tgt_dat: vs_sysbp\n      raw_dat: vs_raw\n      raw_var: \"SYS_BP\"\n      tgt_var: \"VSTEST\"\n      tgt_val: \"Systolic Blood Pressure\"\n      ct_spec: study_ct\n      ct_clst: \"C67153\"\n  - output: vs_sysbp\n    name: sdtm.oak::assign_no_ct\n    params:\n      tgt_dat: vs_sysbp\n      raw_dat:  vs_raw\n      raw_var: \"SYS_BP\"\n      tgt_var: \"VSORRES\"\n  - output: vs_sysbp\n    name: sdtm.oak::hardcode_ct\n    params:\n      tgt_dat: vs_sysbp\n      raw_dat: vs_raw\n      raw_var: \"SYS_BP\"\n      tgt_var: \"VSORRESU\"\n      tgt_val: \"mmHg\"\n      ct_spec: study_ct\n      ct_clst: \"C66770\"\n  - output: vs_sysbp\n    name: sdtm.oak::assign_ct\n    params:\n      tgt_dat: vs_sysbp\n      raw_dat: vs_raw\n      raw_var: \"SUBPOS\"\n      tgt_var: \"VSPOS\"\n      ct_spec: study_ct\n      ct_clst: \"C71148\"\n\n  # Map topic variable DIABP and its qualifiers.\n  - output: vs_diabp\n    name: sdtm.oak::hardcode_ct\n    params:\n      raw_dat: vs_raw\n      raw_var: \"DIA_BP\"\n      tgt_var: \"VSTESTCD\"\n      tgt_val: \"DIABP\"\n      ct_spec: study_ct\n      ct_clst: \"C66741\"\n  - output: vs_diabp\n    name: gsm.core::RunQuery\n    params:\n      df: vs_diabp\n      strQuery: \"SELECT * FROM df WHERE VSTESTCD IS NOT NULL\"\n  - output: vs_diabp\n    name: sdtm.oak::hardcode_ct\n    params:\n      tgt_dat: vs_diabp\n      raw_dat: vs_raw\n      raw_var: \"DIA_BP\"\n      tgt_var: \"VSTEST\"\n      tgt_val: \"Diastolic Blood Pressure\"\n      ct_spec: study_ct\n      ct_clst: \"C67153\"\n  - output: vs_diabp\n    name: sdtm.oak::assign_no_ct\n    params:\n      tgt_dat: vs_diabp\n      raw_dat: vs_raw\n      raw_var: \"DIA_BP\"\n      tgt_var: \"VSORRES\"\n  - output: vs_diabp\n    name: sdtm.oak::hardcode_ct\n    params:\n      tgt_dat: vs_diabp\n      raw_dat: vs_raw\n      raw_var: \"DIA_BP\"\n      tgt_var: \"VSORRESU\"\n      tgt_val: \"mmHg\"\n      ct_spec: study_ct\n      ct_clst: \"C66770\"\n  - output: vs_diabp\n    name: sdtm.oak::assign_ct\n    params:\n      tgt_dat: vs_diabp\n      raw_dat: vs_raw\n      raw_var: \"SUBPOS\"\n      tgt_var: \"VSPOS\"\n      ct_spec: study_ct\n      ct_clst: \"C71148\"\n\n  - output: vs_pulse\n    name: sdtm.oak::hardcode_ct\n    params:\n      raw_dat: vs_raw\n      raw_var: \"PULSE\"\n      tgt_var: \"VSTESTCD\"\n      tgt_val: \"PULSE\"\n      ct_spec: study_ct\n      ct_clst: \"C66741\"\n  - output: vs_pulse\n    name: gsm.core::RunQuery\n    params:\n      df: vs_pulse\n      strQuery: \"SELECT * FROM df WHERE VSTESTCD IS NOT NULL\"\n  - output: vs_pulse\n    name: sdtm.oak::hardcode_ct\n    params:\n      tgt_dat: vs_pulse\n      raw_dat: vs_raw\n      raw_var: \"PULSE\"\n      tgt_var: \"VSTEST\"\n      tgt_val: \"Pulse Rate\"\n      ct_spec: study_ct\n      ct_clst: \"C67153\"\n  - output: vs_pulse\n    name: sdtm.oak::assign_no_ct\n    params:\n      tgt_dat: vs_pulse\n      raw_dat: vs_raw\n      raw_var: \"PULSE\"\n      tgt_var: \"VSORRES\"\n  - output: vs_pulse\n    name: sdtm.oak::hardcode_ct\n    params:\n      tgt_dat: vs_pulse\n      raw_dat: vs_raw\n      raw_var: \"PULSE\"\n      tgt_var: \"VSORRESU\"\n      tgt_val: \"beats/min\"\n      ct_spec: study_ct\n      ct_clst: \"C66770\"\n\n  - output: vs_resp\n    name: sdtm.oak::hardcode_ct\n    params:\n      raw_dat: vs_raw\n      raw_var: \"RESPRT\"\n      tgt_var: \"VSTESTCD\"\n      tgt_val: \"RESP\"\n      ct_spec: study_ct\n      ct_clst: \"C66741\"\n  - output: vs_resp\n    name: gsm.core::RunQuery\n    params:\n      df: vs_resp\n      strQuery: \"SELECT * FROM df WHERE VSTESTCD IS NOT NULL\"\n  - output: vs_resp\n    name: sdtm.oak::hardcode_ct\n    params:\n      tgt_dat: vs_resp\n      raw_dat: vs_raw\n      raw_var: \"RESPRT\"\n      tgt_var: \"VSTEST\"\n      tgt_val: \"Respiratory Rate\"\n      ct_spec: study_ct\n      ct_clst: \"C67153\"\n  - output: vs_resp\n    name: sdtm.oak::assign_no_ct\n    params:\n      tgt_dat: vs_resp\n      raw_dat: vs_raw\n      raw_var: \"RESPRT\"\n      tgt_var: \"VSORRES\"\n  - output: vs_resp\n    name: sdtm.oak::hardcode_ct\n    params:\n      tgt_dat: vs_resp\n      raw_dat: vs_raw\n      raw_var: \"RESPRT\"\n      tgt_var: \"VSORRESU\"\n      tgt_val: \"breaths/min\"\n      ct_spec: study_ct\n      ct_clst: \"C66770\"\n\n  - output: vs_temp\n    name: sdtm.oak::hardcode_ct\n    params:\n      raw_dat: vs_raw\n      raw_var: \"TEMP\"\n      tgt_var: \"VSTESTCD\"\n      tgt_val: \"TEMP\"\n      ct_spec: study_ct\n      ct_clst: \"C66741\"\n  - output: vs_temp\n    name: gsm.core::RunQuery\n    params:\n      df: vs_temp\n      strQuery: \"SELECT * FROM df WHERE VSTESTCD IS NOT NULL\"\n  - output: vs_temp\n    name: sdtm.oak::hardcode_ct\n    params:\n      tgt_dat: vs_temp\n      raw_dat: vs_raw\n      raw_var: \"TEMP\"\n      tgt_var: \"VSTEST\"\n      tgt_val: \"Temperature\"\n      ct_spec: study_ct\n      ct_clst: \"C67153\"\n  - output: vs_temp\n    name: sdtm.oak::assign_no_ct\n    params:\n      tgt_dat: vs_temp\n      raw_dat: vs_raw\n      raw_var: \"TEMP\"\n      tgt_var: \"VSORRES\"\n  - output: vs_temp\n    name: sdtm.oak::hardcode_ct\n    params:\n      tgt_dat: vs_temp\n      raw_dat: vs_raw\n      raw_var: \"TEMP\"\n      tgt_var: \"VSORRESU\"\n      tgt_val: \"C\"\n      ct_spec: study_ct\n      ct_clst: \"C66770\"\n  - output: vs_temp\n    name: sdtm.oak::assign_ct\n    params:\n      tgt_dat: vs_temp\n      raw_dat: vs_raw\n      raw_var: \"TEMPLOC\"\n      tgt_var: \"VSLOC\"\n      ct_spec: study_ct\n      ct_clst: \"C74456\"\n\n  - output: vs_oxysat\n    name: sdtm.oak::hardcode_ct\n    params:\n      raw_dat: vs_raw\n      raw_var: \"OXY_SAT\"\n      tgt_var: \"VSTESTCD\"\n      tgt_val: \"OXYSAT\"\n      ct_spec: study_ct\n      ct_clst: \"C66741\"\n  - output: vs_oxysat\n    name: gsm.core::RunQuery\n    params:\n      df: vs_oxysat\n      strQuery: \"SELECT * FROM df WHERE VSTESTCD IS NOT NULL\"\n  - output: vs_oxysat\n    name: sdtm.oak::hardcode_ct\n    params:\n      tgt_dat: vs_oxysat\n      raw_dat: vs_raw\n      raw_var: \"OXY_SAT\"\n      tgt_var: \"VSTEST\"\n      tgt_val: \"Oxygen Saturation\"\n      ct_spec: study_ct\n      ct_clst: \"C67153\"\n  - output: vs_oxysat\n    name: sdtm.oak::assign_no_ct\n    params:\n      tgt_dat: vs_oxysat\n      raw_dat: vs_raw\n      raw_var: \"OXY_SAT\"\n      tgt_var: \"VSORRES\"\n  - output: vs_oxysat\n    name: sdtm.oak::hardcode_ct\n    params:\n      tgt_dat: vs_oxysat\n      raw_dat: vs_raw\n      raw_var: \"OXY_SAT\"\n      tgt_var: \"VSORRESU\"\n      tgt_val: \"%\"\n      ct_spec: study_ct\n      ct_clst: \"C66770\"\n  - output: vs_oxysat\n    name: sdtm.oak::assign_ct\n    params:\n      tgt_dat: vs_oxysat\n      raw_dat: vs_raw\n      raw_var: \"LAT\"\n      tgt_var: \"VSLAT\"\n      ct_spec: study_ct\n      ct_clst: \"C99073\"\n  - output: vs_oxysat\n    name: sdtm.oak::assign_ct\n    params:\n      tgt_dat: vs_oxysat\n      raw_dat: vs_raw\n      raw_var: \"LOC\"\n      tgt_var: \"VSLOC\"\n      ct_spec: study_ct\n      ct_clst: \"C74456\"\n\n  - output: vs_raw_asmntdn_cond\n    name: sdtm.oak::condition_add\n    params:\n      dat: vs_raw\n      '...': !expr rlang::expr(ASMNTDN == 1L)\n  - output: vs_vsall\n    name: sdtm.oak::hardcode_ct\n    params:\n      raw_dat: vs_raw_asmntdn_cond\n      raw_var: \"ASMNTDN\"\n      tgt_var: \"VSTESTCD\"\n      tgt_val: \"VSALL\"\n      ct_spec: study_ct\n      ct_clst: \"C66741\"\n  - output: vs_vsall\n    name: gsm.core::RunQuery\n    params:\n      df: vs_vsall\n      strQuery: \"SELECT * FROM df WHERE VSTESTCD IS NOT NULL\"\n  - output: vs_vsall\n    name: sdtm.oak::hardcode_ct\n    params:\n      tgt_dat: vs_vsall\n      raw_dat: vs_raw\n      raw_var: \"ASMNTDN\"\n      tgt_var: \"VSTEST\"\n      tgt_val: \"Vital Signs\"\n      ct_spec: study_ct\n      ct_clst: \"C67153\"\n\n  # Combine all the topic variables into a single data frame and map qualifiers\n  # applicable to all topic variables\n  - output: vs\n    name: dplyr::bind_rows\n    params:\n      vs_vsall: vs_vsall\n      vs_sysbp: vs_sysbp\n      vs_diabp: vs_diabp\n      vs_pulse: vs_pulse\n      vs_resp: vs_resp\n      vs_temp: vs_temp\n      vs_oxysat: vs_oxysat\n  - output: vs\n    name: sdtm.oak::assign_datetime\n    params:\n      tgt_dat: vs\n      raw_dat: vs_raw\n      raw_var: !expr rlang::expr(c(\"VTLD\", \"VTLTM\"))\n      tgt_var: \"VSDTC\"\n      raw_fmt: !expr rlang::expr(c(list(c(\"d-m-y\", \"dd-mmm-yyyy\")), \"H:M\"))\n  - output: vs\n    name: sdtm.oak::assign_ct\n    params:\n      tgt_dat: vs\n      raw_dat: vs_raw\n      raw_var: \"TMPTC\"\n      tgt_var: \"VSTPT\"\n      ct_spec: study_ct\n      ct_clst: \"TPT\"\n  - output: vs\n    name: sdtm.oak::assign_ct\n    params:\n      tgt_dat: vs\n      raw_dat: vs_raw\n      raw_var: \"TMPTC\"\n      tgt_var: \"VSTPTNUM\"\n      ct_spec: study_ct\n      ct_clst: \"TPTNUM\"\n  - output: vs\n    name: sdtm.oak::assign_ct\n    params:\n      tgt_dat: vs\n      raw_dat: vs_raw\n      raw_var: \"INSTANCE\"\n      tgt_var: \"VISIT\"\n      ct_spec: study_ct\n      ct_clst: \"VISIT\"\n  - output: vs\n    name: sdtm.oak::assign_ct\n    params:\n      tgt_dat: vs\n      raw_dat: vs_raw\n      raw_var: \"INSTANCE\"\n      tgt_var: \"VISITNUM\"\n      ct_spec: study_ct\n      ct_clst: \"VISITNUM\"\n  - output: vs\n    name: dplyr::mutate\n    params:\n      '.data': vs\n      STUDYID: 'test_study'\n      DOMAIN: 'VS'\n      VSCAT: 'VITAL SIGNS'\n      USUBJID: !expr rlang::expr(paste0(\"test_study\", \"-\", .data$patient_number))\n```\n\n\n\nThis workflow was designed to mimic and follow this respective sdtm.oak vignette."
  },
  {
    "objectID": "gsm_SDTM_example.html#show-yamls-of-sdtm.oak-transformations",
    "href": "gsm_SDTM_example.html#show-yamls-of-sdtm.oak-transformations",
    "title": "Incorporating sdtm.oak",
    "section": "",
    "text": "```yaml\nmeta:\n  ID: SDTM.DM\n  Type: Mapped\n  Description: Transform Raw DM to SDTM DM\n  Priority: 1\nspec:\n  dm_raw:\n    STUDYID:\n      type: character\n    USUBJID:\n      type: character\nsteps:\n  - output: dm\n    name: gsm.core::RunQuery\n    params:\n      df: dm_raw\n      strQuery: \"SELECT STUDYID, USUBJID, 'DRUG X' as TRT01A FROM df\"\n```\n\n\n\n\n\n\n```yaml\nmeta:\n  ID: SDTM.VS\n  Type: Mapped\n  Description: Transform Raw VS to SDTM VS following sdtm.oak article\n  Priority: 1\nspec:\n  # Read in data\n  vs_raw:\n    _all:\n      required: true\n  study_ct:\n    _all:\n      required: true\nsteps:\n  # Create oak_id_vars\n  - output: vs_raw\n    name: sdtm.oak::generate_oak_id_vars\n    params:\n      raw_dat: vs_raw\n      pat_var: \"PATNUM\"\n      raw_src: \"vitals\"\n  # Map topic variable SYSBP and its qualifiers.\n  - output: vs_sysbp\n    name: sdtm.oak::hardcode_ct\n    params:\n      raw_dat: vs_raw\n      raw_var: \"SYS_BP\"\n      tgt_var: \"VSTESTCD\"\n      tgt_val: \"SYSBP\"\n      ct_spec: study_ct\n      ct_clst: \"C66741\"\n  - output: vs_sysbp\n    name: gsm.core::RunQuery\n    params:\n      df: vs_sysbp\n      strQuery: \"SELECT * FROM df WHERE VSTESTCD IS NOT NULL\"\n  # Map topic variable SYSBP and its qualifiers.\n  - output: vs_sysbp\n    name: sdtm.oak::hardcode_ct\n    params:\n      tgt_dat: vs_sysbp\n      raw_dat: vs_raw\n      raw_var: \"SYS_BP\"\n      tgt_var: \"VSTEST\"\n      tgt_val: \"Systolic Blood Pressure\"\n      ct_spec: study_ct\n      ct_clst: \"C67153\"\n  - output: vs_sysbp\n    name: sdtm.oak::assign_no_ct\n    params:\n      tgt_dat: vs_sysbp\n      raw_dat:  vs_raw\n      raw_var: \"SYS_BP\"\n      tgt_var: \"VSORRES\"\n  - output: vs_sysbp\n    name: sdtm.oak::hardcode_ct\n    params:\n      tgt_dat: vs_sysbp\n      raw_dat: vs_raw\n      raw_var: \"SYS_BP\"\n      tgt_var: \"VSORRESU\"\n      tgt_val: \"mmHg\"\n      ct_spec: study_ct\n      ct_clst: \"C66770\"\n  - output: vs_sysbp\n    name: sdtm.oak::assign_ct\n    params:\n      tgt_dat: vs_sysbp\n      raw_dat: vs_raw\n      raw_var: \"SUBPOS\"\n      tgt_var: \"VSPOS\"\n      ct_spec: study_ct\n      ct_clst: \"C71148\"\n\n  # Map topic variable DIABP and its qualifiers.\n  - output: vs_diabp\n    name: sdtm.oak::hardcode_ct\n    params:\n      raw_dat: vs_raw\n      raw_var: \"DIA_BP\"\n      tgt_var: \"VSTESTCD\"\n      tgt_val: \"DIABP\"\n      ct_spec: study_ct\n      ct_clst: \"C66741\"\n  - output: vs_diabp\n    name: gsm.core::RunQuery\n    params:\n      df: vs_diabp\n      strQuery: \"SELECT * FROM df WHERE VSTESTCD IS NOT NULL\"\n  - output: vs_diabp\n    name: sdtm.oak::hardcode_ct\n    params:\n      tgt_dat: vs_diabp\n      raw_dat: vs_raw\n      raw_var: \"DIA_BP\"\n      tgt_var: \"VSTEST\"\n      tgt_val: \"Diastolic Blood Pressure\"\n      ct_spec: study_ct\n      ct_clst: \"C67153\"\n  - output: vs_diabp\n    name: sdtm.oak::assign_no_ct\n    params:\n      tgt_dat: vs_diabp\n      raw_dat: vs_raw\n      raw_var: \"DIA_BP\"\n      tgt_var: \"VSORRES\"\n  - output: vs_diabp\n    name: sdtm.oak::hardcode_ct\n    params:\n      tgt_dat: vs_diabp\n      raw_dat: vs_raw\n      raw_var: \"DIA_BP\"\n      tgt_var: \"VSORRESU\"\n      tgt_val: \"mmHg\"\n      ct_spec: study_ct\n      ct_clst: \"C66770\"\n  - output: vs_diabp\n    name: sdtm.oak::assign_ct\n    params:\n      tgt_dat: vs_diabp\n      raw_dat: vs_raw\n      raw_var: \"SUBPOS\"\n      tgt_var: \"VSPOS\"\n      ct_spec: study_ct\n      ct_clst: \"C71148\"\n\n  - output: vs_pulse\n    name: sdtm.oak::hardcode_ct\n    params:\n      raw_dat: vs_raw\n      raw_var: \"PULSE\"\n      tgt_var: \"VSTESTCD\"\n      tgt_val: \"PULSE\"\n      ct_spec: study_ct\n      ct_clst: \"C66741\"\n  - output: vs_pulse\n    name: gsm.core::RunQuery\n    params:\n      df: vs_pulse\n      strQuery: \"SELECT * FROM df WHERE VSTESTCD IS NOT NULL\"\n  - output: vs_pulse\n    name: sdtm.oak::hardcode_ct\n    params:\n      tgt_dat: vs_pulse\n      raw_dat: vs_raw\n      raw_var: \"PULSE\"\n      tgt_var: \"VSTEST\"\n      tgt_val: \"Pulse Rate\"\n      ct_spec: study_ct\n      ct_clst: \"C67153\"\n  - output: vs_pulse\n    name: sdtm.oak::assign_no_ct\n    params:\n      tgt_dat: vs_pulse\n      raw_dat: vs_raw\n      raw_var: \"PULSE\"\n      tgt_var: \"VSORRES\"\n  - output: vs_pulse\n    name: sdtm.oak::hardcode_ct\n    params:\n      tgt_dat: vs_pulse\n      raw_dat: vs_raw\n      raw_var: \"PULSE\"\n      tgt_var: \"VSORRESU\"\n      tgt_val: \"beats/min\"\n      ct_spec: study_ct\n      ct_clst: \"C66770\"\n\n  - output: vs_resp\n    name: sdtm.oak::hardcode_ct\n    params:\n      raw_dat: vs_raw\n      raw_var: \"RESPRT\"\n      tgt_var: \"VSTESTCD\"\n      tgt_val: \"RESP\"\n      ct_spec: study_ct\n      ct_clst: \"C66741\"\n  - output: vs_resp\n    name: gsm.core::RunQuery\n    params:\n      df: vs_resp\n      strQuery: \"SELECT * FROM df WHERE VSTESTCD IS NOT NULL\"\n  - output: vs_resp\n    name: sdtm.oak::hardcode_ct\n    params:\n      tgt_dat: vs_resp\n      raw_dat: vs_raw\n      raw_var: \"RESPRT\"\n      tgt_var: \"VSTEST\"\n      tgt_val: \"Respiratory Rate\"\n      ct_spec: study_ct\n      ct_clst: \"C67153\"\n  - output: vs_resp\n    name: sdtm.oak::assign_no_ct\n    params:\n      tgt_dat: vs_resp\n      raw_dat: vs_raw\n      raw_var: \"RESPRT\"\n      tgt_var: \"VSORRES\"\n  - output: vs_resp\n    name: sdtm.oak::hardcode_ct\n    params:\n      tgt_dat: vs_resp\n      raw_dat: vs_raw\n      raw_var: \"RESPRT\"\n      tgt_var: \"VSORRESU\"\n      tgt_val: \"breaths/min\"\n      ct_spec: study_ct\n      ct_clst: \"C66770\"\n\n  - output: vs_temp\n    name: sdtm.oak::hardcode_ct\n    params:\n      raw_dat: vs_raw\n      raw_var: \"TEMP\"\n      tgt_var: \"VSTESTCD\"\n      tgt_val: \"TEMP\"\n      ct_spec: study_ct\n      ct_clst: \"C66741\"\n  - output: vs_temp\n    name: gsm.core::RunQuery\n    params:\n      df: vs_temp\n      strQuery: \"SELECT * FROM df WHERE VSTESTCD IS NOT NULL\"\n  - output: vs_temp\n    name: sdtm.oak::hardcode_ct\n    params:\n      tgt_dat: vs_temp\n      raw_dat: vs_raw\n      raw_var: \"TEMP\"\n      tgt_var: \"VSTEST\"\n      tgt_val: \"Temperature\"\n      ct_spec: study_ct\n      ct_clst: \"C67153\"\n  - output: vs_temp\n    name: sdtm.oak::assign_no_ct\n    params:\n      tgt_dat: vs_temp\n      raw_dat: vs_raw\n      raw_var: \"TEMP\"\n      tgt_var: \"VSORRES\"\n  - output: vs_temp\n    name: sdtm.oak::hardcode_ct\n    params:\n      tgt_dat: vs_temp\n      raw_dat: vs_raw\n      raw_var: \"TEMP\"\n      tgt_var: \"VSORRESU\"\n      tgt_val: \"C\"\n      ct_spec: study_ct\n      ct_clst: \"C66770\"\n  - output: vs_temp\n    name: sdtm.oak::assign_ct\n    params:\n      tgt_dat: vs_temp\n      raw_dat: vs_raw\n      raw_var: \"TEMPLOC\"\n      tgt_var: \"VSLOC\"\n      ct_spec: study_ct\n      ct_clst: \"C74456\"\n\n  - output: vs_oxysat\n    name: sdtm.oak::hardcode_ct\n    params:\n      raw_dat: vs_raw\n      raw_var: \"OXY_SAT\"\n      tgt_var: \"VSTESTCD\"\n      tgt_val: \"OXYSAT\"\n      ct_spec: study_ct\n      ct_clst: \"C66741\"\n  - output: vs_oxysat\n    name: gsm.core::RunQuery\n    params:\n      df: vs_oxysat\n      strQuery: \"SELECT * FROM df WHERE VSTESTCD IS NOT NULL\"\n  - output: vs_oxysat\n    name: sdtm.oak::hardcode_ct\n    params:\n      tgt_dat: vs_oxysat\n      raw_dat: vs_raw\n      raw_var: \"OXY_SAT\"\n      tgt_var: \"VSTEST\"\n      tgt_val: \"Oxygen Saturation\"\n      ct_spec: study_ct\n      ct_clst: \"C67153\"\n  - output: vs_oxysat\n    name: sdtm.oak::assign_no_ct\n    params:\n      tgt_dat: vs_oxysat\n      raw_dat: vs_raw\n      raw_var: \"OXY_SAT\"\n      tgt_var: \"VSORRES\"\n  - output: vs_oxysat\n    name: sdtm.oak::hardcode_ct\n    params:\n      tgt_dat: vs_oxysat\n      raw_dat: vs_raw\n      raw_var: \"OXY_SAT\"\n      tgt_var: \"VSORRESU\"\n      tgt_val: \"%\"\n      ct_spec: study_ct\n      ct_clst: \"C66770\"\n  - output: vs_oxysat\n    name: sdtm.oak::assign_ct\n    params:\n      tgt_dat: vs_oxysat\n      raw_dat: vs_raw\n      raw_var: \"LAT\"\n      tgt_var: \"VSLAT\"\n      ct_spec: study_ct\n      ct_clst: \"C99073\"\n  - output: vs_oxysat\n    name: sdtm.oak::assign_ct\n    params:\n      tgt_dat: vs_oxysat\n      raw_dat: vs_raw\n      raw_var: \"LOC\"\n      tgt_var: \"VSLOC\"\n      ct_spec: study_ct\n      ct_clst: \"C74456\"\n\n  - output: vs_raw_asmntdn_cond\n    name: sdtm.oak::condition_add\n    params:\n      dat: vs_raw\n      '...': !expr rlang::expr(ASMNTDN == 1L)\n  - output: vs_vsall\n    name: sdtm.oak::hardcode_ct\n    params:\n      raw_dat: vs_raw_asmntdn_cond\n      raw_var: \"ASMNTDN\"\n      tgt_var: \"VSTESTCD\"\n      tgt_val: \"VSALL\"\n      ct_spec: study_ct\n      ct_clst: \"C66741\"\n  - output: vs_vsall\n    name: gsm.core::RunQuery\n    params:\n      df: vs_vsall\n      strQuery: \"SELECT * FROM df WHERE VSTESTCD IS NOT NULL\"\n  - output: vs_vsall\n    name: sdtm.oak::hardcode_ct\n    params:\n      tgt_dat: vs_vsall\n      raw_dat: vs_raw\n      raw_var: \"ASMNTDN\"\n      tgt_var: \"VSTEST\"\n      tgt_val: \"Vital Signs\"\n      ct_spec: study_ct\n      ct_clst: \"C67153\"\n\n  # Combine all the topic variables into a single data frame and map qualifiers\n  # applicable to all topic variables\n  - output: vs\n    name: dplyr::bind_rows\n    params:\n      vs_vsall: vs_vsall\n      vs_sysbp: vs_sysbp\n      vs_diabp: vs_diabp\n      vs_pulse: vs_pulse\n      vs_resp: vs_resp\n      vs_temp: vs_temp\n      vs_oxysat: vs_oxysat\n  - output: vs\n    name: sdtm.oak::assign_datetime\n    params:\n      tgt_dat: vs\n      raw_dat: vs_raw\n      raw_var: !expr rlang::expr(c(\"VTLD\", \"VTLTM\"))\n      tgt_var: \"VSDTC\"\n      raw_fmt: !expr rlang::expr(c(list(c(\"d-m-y\", \"dd-mmm-yyyy\")), \"H:M\"))\n  - output: vs\n    name: sdtm.oak::assign_ct\n    params:\n      tgt_dat: vs\n      raw_dat: vs_raw\n      raw_var: \"TMPTC\"\n      tgt_var: \"VSTPT\"\n      ct_spec: study_ct\n      ct_clst: \"TPT\"\n  - output: vs\n    name: sdtm.oak::assign_ct\n    params:\n      tgt_dat: vs\n      raw_dat: vs_raw\n      raw_var: \"TMPTC\"\n      tgt_var: \"VSTPTNUM\"\n      ct_spec: study_ct\n      ct_clst: \"TPTNUM\"\n  - output: vs\n    name: sdtm.oak::assign_ct\n    params:\n      tgt_dat: vs\n      raw_dat: vs_raw\n      raw_var: \"INSTANCE\"\n      tgt_var: \"VISIT\"\n      ct_spec: study_ct\n      ct_clst: \"VISIT\"\n  - output: vs\n    name: sdtm.oak::assign_ct\n    params:\n      tgt_dat: vs\n      raw_dat: vs_raw\n      raw_var: \"INSTANCE\"\n      tgt_var: \"VISITNUM\"\n      ct_spec: study_ct\n      ct_clst: \"VISITNUM\"\n  - output: vs\n    name: dplyr::mutate\n    params:\n      '.data': vs\n      STUDYID: 'test_study'\n      DOMAIN: 'VS'\n      VSCAT: 'VITAL SIGNS'\n      USUBJID: !expr rlang::expr(paste0(\"test_study\", \"-\", .data$patient_number))\n```\n\n\n\nThis workflow was designed to mimic and follow this respective sdtm.oak vignette."
  }
]