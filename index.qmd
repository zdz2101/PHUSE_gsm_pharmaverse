---
title: "Harmonizing the gsm and pharmaverse ecosystems"
format: html
editor: visual
---

## Background:

The `pharmaverse` has quickly established itself as a community standard for open-source clinical reporting, with packages like `sdtm.oak` for SDTM transformation, `admiral` for ADaM derivations and `gtsummary` for TFL generation. Emerging in the background is the new analysis results dataset standard, ARS, which `cards` can be used to support and shiny/web based tools to review visualizations as alternative to static reports. In parallel, the `gsm` framework, in particular the `gsm.core` package, has matured as a YAML-driven workflow engine providing reproducibility, traceability, and audit-ready pipelines for data science in clinical development. These ecosystems have typically evolved in parallel, but their complementary strengths create an opportunity for integration.

## Objective:

We present a hybrid "gsm–pharmaverse" pipeline demonstrating how `gsm.core` can orchestrate `pharmaverse` packages end-to-end, transforming raw eCRF data into SDTM, ADaM, TFL outputs and even the emerging ARS. This case study highlights how harmonizing these ecosystems can accelerate adoption of open-source R workflows in regulated clinical trial reporting.

## Methods

-   Raw → SDTM (gsm + sdtm.oak): Raw data were transformed into SDTM using gsm workflows, following a pre-existing sdtm.oak example for the VS domain as a reference implementation. An example can be found [here](gsm_SDTM_example.qmd).

-   SDTM → ADaM (gsm + admiral): SDTM domains were re-integrated into gsm workflows and passed through admiral derivations. Functions such as `derive_vars_merged()` and `derive_param_map()` were used to generate ADVS parameters and analysis values (e.g., MAP). Derivation logic was defined declaratively via YAML !expr tags, ensuring transformations were reproducible, transparent, and auditable. An example can be found [here](gsm_ADAM_example.qmd).

-   ADaM → TFLs (gsm + gtsummary): From the derived ADaM datasets, gsm workflows directly invoked gtsummary to generate table outputs. This enabled the production of publication-ready TFLs within a fully traceable, end-to-end pipeline.

-   ADaM → ARS (gsm + cards; exploratory): In parallel, the same ADaM datasets were extended using cards to explore the generation of ARS-aligned datasets and outputs. As ARS standards continue to evolve, this demonstrates how emerging libraries can be incorporated into the gsm framework with minimal friction.

-   SDTM/ADaM → Shiny (gsm + safetyCharts; exploratory): Given the growing adoption of web-based visualization across organizations, gsm workflows were also evaluated as a mechanism to automatically refresh Shiny applications with newly derived data, supporting near-real-time exploratory and safety review.

## Results:

The pipeline successfully demonstrated that `gsm.core` can orchestrate a start to finish pharmaverse toolchain: sdtm.oak standardized raw data into SDTM, admiral derived ADaM datasets, gtsummary produced clinical tables, and cards structured ARS datasets.

Each package retained its modular design, while `gsm.core` ensured workflow control, auditability, and reproducibility across the pipeline.

## Conclusions:

This hybrid `gsm–pharmaverse` case study illustrates the feasibility of an open-source end-to-end clinical reporting pipeline. `gsm.core` serves as the workflow backbone, while pharmaverse packages provide domain-specific transformations for SDTM, ADaM, TFLs, and ARS. Together, they deliver a modular and transparent solution for clinical trial reporting, that is ready for automation. We propose this as a model for future collaboration between workflow frameworks and pharmaverse packages, moving the industry toward interoperable open-source standards.
